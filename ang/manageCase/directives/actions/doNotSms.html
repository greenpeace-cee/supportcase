<div>
	<div ng-switch="info['stepName']" class="nosms__do-not-sms">

		<div class="act__step" ng-switch-when="confirmNumberStep">
			<div class="act__step-title">Enter phone number</div>
			<div class="sc__pb-10">The number will be use to find matching contacts.</div>
			<div class="act__step-body">
				<div>
					<input maxlength="25" class="spc__input crm-form-text" type="text" ng-model="info.phoneNumber">
				</div>
				<div class="sc__pt-20">
					<button class="btn btn-primary" ng-disabled="info.phoneNumber.length === 0" ng-click="runStep('selectContactsStep')">
            <i class="crm-i fa-arrow-right"></i>
            <span>Next</span>
          </button>
				</div>
			</div>
		</div>

		<div class="act__step" ng-switch-when="selectContactsStep">
			<div class="act__step-title">Select contacts</div>
			<div class="sc__pb-10" ng-if="info['contacts'].length > 0" >Confirm all contacts matching <strong>{{info['phoneNumber']}}</strong> for which "Do not SMS" should be set:</div>
			<div class="act__step-body">
				<div>
					<div ng-if="info['contacts'].length > 0">
						<div class="act__table sc__max-width-700">
							<table class="crm-search-results sc__mb-0 spc__table">
								<thead>
									<tr>
										<th>
											<div class="nosms__checkbox-wrap">
												<input ng-click="handleMainCheckbox($event)" ng-checked="isSelectedAllContacts()" type="checkbox"/>
											</div>
										</th>
										<th>Contact ID</th>
										<th class="sc__width-250">Contact Info</th>
										<th>Do not SMS (current value)</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="contact in info['contacts']" data-contact-id="{{contact.id}}">
										<td>
											<div class="act__column">
												<div class="nosms__checkbox-wrap">
													<input ng-model="contact['is_selected']" type="checkbox"/>
												</div>
											</div>
										</td>
										<td>
											<div class="act__column">
												{{contact.id}}
											</div>
										</td>
										<td>
											<div class="act__column">
												<contact-info model="contact.id" is-search-duplicates="true"></contact-info>
											</div>
										</td>
										<td>
											<div class="act__column">
												<span>
													{{contact.is_do_not_sms == true ? 'yes' : 'no'}}
												</span>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div ng-if="info['contacts'].length == 0">
						<p>Cannot find any contacts with phone number <strong>{{info['phoneNumber']}}</strong>.</p>
					</div>
				</div>
				<div class="sc__pt-20">
					<button class="btn btn-primary" ng-disabled="!isSelectedMinimumOneContacts()" ng-click="runStep('showSuccessMessageStep')">
            <i class="crm-i fa-check"></i>
            <span>Confirm</span>
          </button>
					<button class="btn btn-secondary" ng-click="runStep('confirmNumberStep')">
            <i class="crm-i fa-arrow-left"></i>
            <span>Back to entering number</span>
          </button>
				</div>
			</div>
		</div>

		<div class="act__step" ng-switch-when="showSuccessMessageStep">
			<div class="act__step-title">Success</div>
			<div class="sc__pb-10">"Do not SMS" was set for these contacts:</div>
			<div class="act__tep-body">
				<div>
					<ul ng-repeat="contact in info['contacts']">
						<li ng-if="contact['is_selected']">
							<contact-info model="contact['id']" is-search-duplicates="true"></contact-info>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
