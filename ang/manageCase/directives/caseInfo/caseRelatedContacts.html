<div class="ci__case-info-item relatedContactsField">
    <div class="ci__case-info-header">
        <div class="ci__case-info-item-label">
            <span>Related Contacts</span>
        </div>
        <div ng-show="!isEditMode" class="ci__case-info-edit-button" title="Edit related contacts" ng-click="toggleMode();">
            <i class="crm-i fa-pencil"></i>
        </div>
    </div>

    <div class="ci__case-info-view-mode" ng-show="!isEditMode">
        <div class="ci__case-info-item-content">
            <div class="ci__clients-wrap">
                <div ng-repeat="relatedContactId in model['related_contact_data']['related_contact_ids']">
                    <contact-info model="relatedContactId" is-search-duplicates="false"></contact-info>
                </div>
            </div>
        </div>
    </div>

    <div class="ci__case-info-edit-mode" ng-show="isEditMode">
        <div class="crm-section">
            <select-contact is-required="false" is-multiple="true" max-width="600" model="relatedContactIds"></select-contact>
        </div>

        <div class="ci__case-info-errors-wrap"></div>

        <div class="ci__case-info-edit-mode-buttons">
            <button class="ci__case-info-edit-confirm spc__button spc--height-medium" ng-click="editConfirm()">confirm</button>
            <button class="button__cancel spc__button spc--height-medium"  ng-click="toggleMode()">cancel</button>
        </div>
    </div>
</div>
