<div class="ci__case-info-item clientsField">
  <div class="ci__case-info-header">
    <div class="ci__case-info-item-label">
      <span>Client</span>
      <a ng-click="showHelpInfo('About clients updating', 'id-about-clients-updating', 'CRM\/Supportcase\/Helper\/CaseInfo')" href="javascript:;" title="Help" class="helpicon"></a>
    </div>
    <div ng-show="!isEditMode" class="ci__case-info-edit-button" title="Edit client" ng-click="toggleMode();">
      <i class="crm-i fa-pencil"></i>
    </div>
  </div>

  <div class="ci__case-info-view-mode" ng-show="!isEditMode">
    <div class="ci__case-info-item-content">
      <div class="ci__clients-wrap">
        <div ng-repeat="clientContactId in model['client_ids']">
          <contact-info model="clientContactId" is-search-duplicates="true"></contact-info>
        </div>
      </div>
    </div>
  </div>

  <div class="ci__case-info-edit-mode" ng-show="isEditMode">
    <div ng-show="!isDoubleConfirmMode">
      <select-contact is-required="true" search-api-params='{}' is-multiple="false" max-width="600" model="clientId"></select-contact>
    </div>

    <div class="status" ng-if="confirmationMessage.length > 1">
      <div ng-bind-html="confirmationMessage"></div>
    </div>

    <div class="ci__case-info-errors-wrap" ng-show="!isDoubleConfirmMode"></div>

    <div class="ci__case-info-edit-mode-buttons">
      <button ng-show="!isNeedToShowConfirmationMessage" class="btn btn-primary" ng-click="editConfirm()">
        <i class="crm-i fa-check"></i>
        <span>Confirm</span>
      </button>
      <button ng-show="isNeedToShowConfirmationMessage" class="btn btn-primary" ng-click="updateClient()">
        <i class="crm-i fa-check"></i>
        <span>Confirm</span>
      </button>
      <button class="btn btn-secondary" ng-click="toggleMode()">
        <i class="crm-i fa-arrow-left"></i>
        <span>Cancel</span>
      </button>
    </div>
  </div>
</div>
